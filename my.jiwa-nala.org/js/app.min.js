!function(t,e){fontSpy=function(t,i){var n=e("html"),a=e("body"),o=t;if("string"!=typeof o||""===o)throw"A valid fontName is required. fontName must be a string and must not be an empty string.";var s={font:o,fontClass:o.toLowerCase().replace(/\s/g,""),success:function(){},failure:function(){},testFont:"Courier New",testString:"QW@HhsXJ",glyphs:"",delay:50,timeOut:1e3,callback:e.noop},r=e.extend(s,i),l=e("<span>"+r.testString+r.glyphs+"</span>").css("position","absolute").css("top","-9999px").css("left","-9999px").css("visibility","hidden").css("fontFamily",r.testFont).css("fontSize","250px");a.append(l);var c=l.outerWidth();l.css("fontFamily",r.font+","+r.testFont);var p=function(){var t=l.outerWidth();c!==t?(r.callback(),n.addClass(r.fontClass),r&&r.success&&r.success(),l.remove()):r.timeOut<0?(n.addClass("no-"+r.fontClass),r&&r.failure&&r.failure(),r.callback(new Error("FontSpy timeout")),l.remove()):(setTimeout(p,r.delay),r.timeOut=r.timeOut-r.delay)};p()}}(0,jQuery),function(t){t.fn.isOnScreen=function(){var e=t(this),i=t(window),n=e.offset(),a={top:i.scrollTop()};return a.bottom=a.top+i.height(),n.bottom=n.top+e.outerHeight(),!(a.bottom<n.top||a.bottom<n.bottom||a.top>n.bottom||a.top>n.top)}}(jQuery),function(t){t.fn.select=function(){return t(this).each(function(){var e=t(this);if(e.attr("type","hidden"),""==e.attr("id")&&e.attr("id",Math.rand(4)),!e.parent().hasClass("input-group")){var i=t('<div class="input-group"></div>');(e=e.replaceWith(i)).appendTo(i)}var n=[];""!=t(this).attr("select-dropdown")&&n.push(t(this).attr("select-dropdown")),""!=t(this).attr("select-modal-container")&&n.push(t(this).attr("select-modal-container")),""!=t(this).attr("select-modal")&&n.push(t(this).attr("select-modal")),n=t(n.join(","));var a=t('<label class="w3-input" for="'+e.attr("id")+'"></label>').css({cursor:"pointer",overflow:"hidden"}).insertBefore(this).html(""==e.val()?t("<span></span>").css("color","rgb(120,120,120)").html(e.attr("placeholder")).prop("outerHTML"):t(n).find('[select-value="'+e.val()+'"]').html()),o=t('<label class="icon"><i class="fas fa-chevron-down fa-fw w3-hide-small w3-hide-medium"></i><i class="fas fa-square fa-fw w3-hide-large"></i></label>').css("cursor","pointer").insertBefore(e),s=function(){var t=n.filter(e.attr("select-dropdown")),i=t.is(":visible")?"fa-chevron-up":"fa-chevron-down",a=t.is(":visible")?"fa-chevron-down":"fa-chevron-up";o.find(".w3-hide-small.w3-hide-medium").removeClass(a).addClass(i)},r=function(i){i.stopPropagation(),t(window).trigger("click"),e.trigger("click")},l=function(t){n.hide(),s()},c=function(){var i=e.val(),n=null;if(t(this).is("li")){var o=t(this).find('a[select-role="item"]');a.html(t(o).html()),e.val(t(o).attr("select-value")),n=t(o).attr("select-value")}else a.html(t(this).html()),e.val(t(this).attr("select-value")),n=t(this).attr("select-value");l(),e.trigger("select.pick",[i,n]).trigger("change",[i,n])};t.each([a,o],function(t,e){e.click(r)}),e.click(function(e){e.stopPropagation();var i=n.filter(t(this).attr("select-dropdown")).width("").width(),a=t(this).parent().hasClass("input-group")?t(this).parent().width():t(this).width();n.filter(t(this).attr("select-dropdown")).width(Math.max(a,i)),n.show(),s()}),n.find('[select-role="item"]').each(function(e,i){var n=t(i).parent().width();t(i).width()==n?t(i).click(c):t(i).parent().click(c)}),t(window).click(l)}),this}}(jQuery),function(t){t.fn.ajaxSearch=function(e){e=t.extend({ajax:{},modal:{}},e);var i,n,a,o,s,r,l,c,p,d,u=function(){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<5;i++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}(),f=t(this).attr("autocomplete","off"),h=(d=f,t('<label id="'+u+'-loader"><i class="button-icon-loader"></i></label>').hide().insertAfter(d)),m=(r=f,c=t('<div id="'+(l=u)+'-dropdown" class="w3-card w3-dropdown-content w3-bar-block w3-border" style="width:100%; max-height:400px; overflow:hidden scroll;"></div>').appendTo(t('<div class="w3-hide-small w3-hide-medium" style="position:relative"></div>').insertAfter(r.parent())),(p=t('<ul id="'+l+'-dropdown-list" class="w3-ul w3-hoverable" style="display:table; list-style:none; width:100%"></ul>')).appendTo(c),{container:c,list:p}),v=(i=f,n=u,a=e.modal.icon?e.modal.icon:"",e.modal.title&&e.modal.title,o=t('<div id="'+n+'-modal" class="w3-modal w3-display-container w3-hide-large" onclick="$(this).hide()"><div class="w3-modal-content w3-animate-top w3-card-4"><header class="w3-container w3-theme"><span class="w3-button w3-display-topright w3-small w3-hover-none w3-hover-text-light-grey"onclick="$(\'#uid-modal\').hide()" style="font-size:20px !important">Ã—</span><h4 class="padding-top-8 padding-bottom-8"><i class="'+a+'"></i><span style="padding-left:12px;">'+e.modal.title+'</span></h4></header><div id="'+n+'-modal-container"></div></div></div>'),s=t('<ul class="w3-ul w3-hoverable"></ul>'),o.insertAfter(i.parent()).find("header").next().append(s),{container:o,list:s}),w=function(t){var e;t&&!y()?(m.container.css("visiblity","hidden").show().width((e=m.list.attr("min-width"),e=e||m.list.attr("min-width",m.list.width()).width(),Math.max(m.container.width(),m.list.width()+10))).css("visiblity","visible"),v.container.show()):(m.container.hide(),v.container.hide())},k=function(t){t?h.show():h.hide()},y=function(){return m.list.children().length<=0},g=function(){m.list.empty(),v.list.empty()},b=function(t,i){e.ajax.beforeSend&&e.ajax.beforeSend(t,i),g(),k(!0),w(!1)},x=function(t,i){e.ajax.complete&&e.ajax.complete(t,i)},C=function(i,n){i.length>0?(e.ajax.success&&e.ajax.success(i,n),t.each(i,function(i,n){var a,o,s,r,l,c;m.list.append((a=n,o=e.onListItemClicked,s=null==a.name_front_titles?"":a.name_front_titles,s+=null==a.name_full?"":" "+a.name_full,s+=null==a.name_back_titles?"":" "+a.name_back_titles,nip=a.nip,li=t('<li style="display:table-row; cursor:pointer"></li>'),li.append(t('<div class="nip" style="display:table-cell; padding:8px 16px; width:100px;">'+nip+"</div>")),li.append(t('<div class="name" style="display:table-cell; padding:8px 16px; white-space: nowrap;">'+s+"</div>")),li.click(function(){o(a)}))),v.list.append((r=n,l=e.onListItemClicked,c=null==r.name_front_titles?"":r.name_front_titles,c+=null==r.name_full?"":" "+r.name_full,c+=null==r.name_back_titles?"":" "+r.name_back_titles,t('<li style="cursor:pointer;"><a class="w3-text-theme w3-mobile"><span style="width:100px;display:inline-block">'+r.nip+"</span><span>"+c+"</span></a></li>").click(function(){l(r)})))}),w(!0)):w(!1),k(!1)},j=function(t,i){console.log("errorajax"),g(),e.ajax.error&&e.ajax.error(t,i),k(!1)};return f.on("keyup",t.debounce(1e3,function(i){var n;i.stopPropagation(),27==i.keyCode||38==i.keyCode?w(!1):40==i.keyCode?w(!0):e.ajax&&(n=e.ajax,t.ajax({type:n.type(),url:n.url(),data:n.data(),beforeSend:b,complete:x,success:C,error:j}))})).on("focus",function(t){t.stopPropagation(),e.onFocus&&e.onFocus(t,this)}),t(window).resize(function(){w(!0)}).click(function(){w(!1)}),this}}(jQuery),function(t){t.fn.timepicker=function(e){var i=t(this),n=t('<div id="'+i.attr("name").replace(/[\[\]]/g,"")+'-timepicker" class="timepicker">'),a=t('<div class="hours">').appendTo(n),o=t('<button class="next">').append('<i class="fas fa-chevron-up">').appendTo(a),s=t('<button class="prev">').append('<i class="fas fa-chevron-down">').appendTo(a),r=t('<input type="text" class="w3-input hours" maxlength="2" />').insertBefore(s),l=t('<div class="minutes">').appendTo(n),c=t('<button class="next">').append('<i class="fas fa-chevron-up">').appendTo(l),p=t('<button class="prev">').append('<i class="fas fa-chevron-down">').appendTo(l),d=t('<input type="text" class="w3-input hours" maxlength="2" />').insertBefore(p),u=t('<div class="seconds">').appendTo(n),f=t('<button class="next">').append('<i class="fas fa-chevron-up">').appendTo(u),h=t('<button class="prev">').append('<i class="fas fa-chevron-down">').appendTo(u),m=t('<input type="text" class="w3-input hours" maxlength="2" />').insertBefore(h);n.find("button").attr("type","button"),o.click(function(t){g("h",1,t)}),s.click(function(t){g("h",-1,t)}),c.click(function(t){g("m",1,t)}),p.click(function(t){g("m",-1,t)}),f.click(function(t){g("s",1,t)}),h.click(function(t){g("s",-1,t)});var v=function(t){t.stopPropagation()},w=function(t,e){e.stopPropagation(),38==e.keyCode&&g(t,1,e),40==e.keyCode&&g(t,-1,e)};r.on("focus click ",v).on("keydown",function(t){w("h",t)}).on("keyup",t.debounce(500,function(e){e.stopPropagation(),b("h",t(this).val(),e)})),d.on("focus click ",v).on("keydown",function(t){w("m",t)}).on("keyup",t.debounce(500,function(e){b("m",t(this).val(),e)})),m.on("focus click ",v).on("keydown",function(t){w("s",t)}).on("keyup",t.debounce(500,function(e){b("s",t(this).val(),e)}));e=t.extend({parseFormat:"hh:mm:ss A",outputFormat:"HH:mm:ss"},e);var k=function(){return moment(t(i.attr("timepicker-source")).val(),e.parseFormat)},y=function(){return i.attr("timepicker-source")?k():moment(i.val(),e.parseFormat)},g=function(t,e,i){i.stopPropagation();var n=y();n=n.isValid()?n:moment("00:00:00","HH:mm:ss"),e>0?n.add(e,t):e<0&&n.subtract(-1*e,t),x(n)},b=function(t,e,i){i.stopPropagation();var n=y();n=n.isValid()?n:moment("00:00:00","HH:mm:ss"),"h"==t?n.hours(e):"m"==t?n.minute(e):"s"==t&&n.second(e),x(n)},x=function(n){r.val(n.isValid()?n.format("HH"):"00"),d.val(n.isValid()?n.format("mm"):"00"),m.val(n.isValid()?n.format("ss"):"00");var a,o;n=n.isValid()?n.format(e.outputFormat):"";i.attr("timepicker-source")&&(a=n,t(i.attr("timepicker-source")).val(a)),i.attr("timepicker-link")&&(o=n,t(i.attr("timepicker-link")).val(o)),i.val(n),t(i).trigger("change")};if(i.attr("timepicker-container")){var C=i.attr("timepicker-container");t(C).append(n).css("padding","8px"),e.class&&t(n).addClass(e.class),e.styles&&t(n).attr("style",e.styles),i.on("focus click",function(e){e.stopPropagation(),t(window).trigger("click"),i.attr("timepicker-modal")?t(i.attr("timepicker-modal")).show():t(C).addClass("w3-show").css("right","0")}),t(window).on("click focus",function(){i.attr("timepicker-modal")?t(i.attr("timepicker-modal")).hide():t(C).removeClass("w3-show")})}else n.insertAfter(i);return x(y()),this}}(jQuery);var App={UI:{}};App.UI.inputGroup=function(t){$(t).focusin(function(){$(t).parent().addClass("focus")}).focusout(function(){$(t).parent().removeClass("focus")}).blur(function(){$(t).parent().removeClass("focus")})},App.init=function(){$("input.w3-input.error").on("keyup",function(t){var e=String.fromCharCode(t.keyCode);/[a-zA-Z0-9-_ ]/.test(e)&&$(this).removeClass("error")}),$(".input-group.error>.w3-input").on("keyup",function(){$(this).parent().removeClass("error")}),$.each($(".input-group>.w3-input"),function(t,e){App.UI.inputGroup(e)})},$(document).ready(function(){App.init()});