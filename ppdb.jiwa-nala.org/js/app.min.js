!function(t,e){fontSpy=function(t,n){var i=e("html"),a=e("body");if("string"!=typeof t||""===t)throw"A valid fontName is required. fontName must be a string and must not be an empty string.";var o={font:t,fontClass:t.toLowerCase().replace(/\s/g,""),success:function(){},failure:function(){},testFont:"Courier New",testString:"QW@HhsXJ",glyphs:"",delay:50,timeOut:1e3,callback:e.noop},s=e.extend(o,n),r=e("<span>"+s.testString+s.glyphs+"</span>").css("position","absolute").css("top","-9999px").css("left","-9999px").css("visibility","hidden").css("fontFamily",s.testFont).css("fontSize","250px");a.append(r);var l=r.outerWidth();r.css("fontFamily",s.font+","+s.testFont);var c=function(){var t=r.outerWidth();l!==t?(s.callback(),i.addClass(s.fontClass),s&&s.success&&s.success(),r.remove()):s.timeOut<0?(i.addClass("no-"+s.fontClass),s&&s.failure&&s.failure(),s.callback(new Error("FontSpy timeout")),r.remove()):(setTimeout(c,s.delay),s.timeOut=s.timeOut-s.delay)};c()}}(0,jQuery),function(t){t.fn.isOnScreen=function(){var e=t(this),n=t(window),i=e.offset(),a={top:n.scrollTop()};return a.bottom=a.top+n.height(),i.bottom=i.top+e.outerHeight(),!(a.bottom<i.top||a.bottom<i.bottom||a.top>i.bottom||a.top>i.top)}}(jQuery),function(t){t.fn.select=function(e){return defOpt={style:{cursor:"pointer",overflow:"hidden"},hideCevron:!1},e=t.extend(defOpt,e),t(this).each(function(){var n=t(this);if(n.attr("type","hidden"),""==n.attr("id")&&n.attr("id",Math.rand(4)),!n.parent().hasClass("input-group")){var i=t('<div class="input-group"></div>');(n=n.replaceWith(i)).appendTo(i)}var a=[];""!=t(this).attr("select-dropdown")&&a.push(t(this).attr("select-dropdown")),""!=t(this).attr("select-modal-container")&&a.push(t(this).attr("select-modal-container")),""!=t(this).attr("select-modal")&&a.push(t(this).attr("select-modal")),a=t(a.join(","));var o=t('<label class="w3-input" for="'+n.attr("id")+'"></label>').css(e.style).insertBefore(this).html(""==n.val()?t("<span></span>").css("color","rgb(120,120,120)").html(n.attr("placeholder")).prop("outerHTML"):t(a).find('[select-value="'+n.val()+'"]').html()),s=t('<label class="icon"><i class="fas fa-chevron-down fa-fw w3-hide-small w3-hide-medium"></i><i class="fas fa-square fa-fw w3-hide-large"></i></label>').css("cursor","pointer");e.hideCevron||s.insertBefore(n);var r=function(){var t=a.filter(n.attr("select-dropdown")),e=t.is(":visible")?"fa-chevron-up":"fa-chevron-down",i=t.is(":visible")?"fa-chevron-down":"fa-chevron-up";s.find(".w3-hide-small.w3-hide-medium").removeClass(i).addClass(e)},l=function(e){e.stopPropagation(),t(window).trigger("click"),n.trigger("click")},c=function(t){a.hide(),r()},p=function(){var e=n.val(),i=null;if(t(this).is("li")){var a=t(this).find('a[select-role="item"]');o.html(t(a).html()),n.val(t(a).attr("select-value")),i=t(a).attr("select-value")}else o.html(t(this).html()),n.val(t(this).attr("select-value")),i=t(this).attr("select-value");c(),n.trigger("select.pick",[e,i]).trigger("change",[e,i])};t.each([o,s],function(t,e){e.click(l)}),n.click(function(e){e.stopPropagation();var n=a.filter(t(this).attr("select-dropdown")).width("").width(),i=t(this).parent().hasClass("input-group")?t(this).parent().width():t(this).width();a.filter(t(this).attr("select-dropdown")).width(Math.max(i,n)),a.show(),r()}),a.find('[select-role="item"]').each(function(e,n){var i=t(n).parent().width();t(n).width()==i?t(n).click(p):t(n).parent().click(p)}),t(window).click(c)}),this}}(jQuery),function(t){t.fn.ajaxSearch=function(e){e=t.extend({ajax:{},modal:{}},e);var n=function(){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<5;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}(),i=t(this).attr("autocomplete","off"),a=function(e,n){return t('<label id="'+n+'-loader"><i class="button-icon-loader"></i></label>').hide().insertAfter(e)}(i,n),o=function(e,n){var i=t('<div id="'+n+'-dropdown" class="w3-card w3-dropdown-content w3-bar-block w3-border" style="width:100%; max-height:400px; overflow:hidden scroll;"></div>').appendTo(t('<div class="w3-hide-small w3-hide-medium" style="position:relative"></div>').insertAfter(e.parent())),a=t('<ul id="'+n+'-dropdown-list" class="w3-ul w3-hoverable" style="display:table; list-style:none; width:100%"></ul>');return a.appendTo(i),{container:i,list:a}}(i,n),s=function(n,i){var a=e.modal.icon?e.modal.icon:"",o=(e.modal.title&&e.modal.title,t('<div id="'+i+'-modal" class="w3-modal w3-display-container w3-hide-large" onclick="$(this).hide()"><div class="w3-modal-content w3-animate-top w3-card-4"><header class="w3-container w3-theme"><span class="w3-button w3-display-topright w3-small w3-hover-none w3-hover-text-light-grey"onclick="$(\'#uid-modal\').hide()" style="font-size:20px !important">Ã—</span><h4 class="padding-top-8 padding-bottom-8"><i class="'+a+'"></i><span style="padding-left:12px;">'+e.modal.title+'</span></h4></header><div id="'+i+'-modal-container"></div></div></div>')),s=t('<ul class="w3-ul w3-hoverable"></ul>');return o.insertAfter(n.parent()).find("header").next().append(s),{container:o,list:s}}(i,n),r=function(t){var e;t&&!c()?(o.container.css("visiblity","hidden").show().width((e=o.list.attr("min-width"),e=e||o.list.attr("min-width",o.list.width()).width(),Math.max(o.container.width(),o.list.width()+10))).css("visiblity","visible"),s.container.show()):(o.container.hide(),s.container.hide())},l=function(t){t?a.show():a.hide()},c=function(){return o.list.children().length<=0},p=function(){o.list.empty(),s.list.empty()},d=function(t,n){e.ajax.beforeSend&&e.ajax.beforeSend(t,n),p(),l(!0),r(!1)},u=function(t,n){e.ajax.complete&&e.ajax.complete(t,n)},f=function(n,i){n.length>0?(e.ajax.success&&e.ajax.success(n,i),t.each(n,function(n,i){var a,r,l;o.list.append((a=i,r=e.onListItemClicked,l=null==a.name_front_titles?"":a.name_front_titles,l+=null==a.name_full?"":" "+a.name_full,l+=null==a.name_back_titles?"":" "+a.name_back_titles,nip=a.nip,li=t('<li style="display:table-row; cursor:pointer"></li>'),li.append(t('<div class="nip" style="display:table-cell; padding:8px 16px; width:100px;">'+nip+"</div>")),li.append(t('<div class="name" style="display:table-cell; padding:8px 16px; white-space: nowrap;">'+l+"</div>")),li.click(function(){r(a)}))),s.list.append(function(e,n){var i=null==e.name_front_titles?"":e.name_front_titles;return i+=null==e.name_full?"":" "+e.name_full,i+=null==e.name_back_titles?"":" "+e.name_back_titles,t('<li style="cursor:pointer;"><a class="w3-text-theme w3-mobile"><span style="width:100px;display:inline-block">'+e.nip+"</span><span>"+i+"</span></a></li>").click(function(){n(e)})}(i,e.onListItemClicked))}),r(!0)):r(!1),l(!1)},h=function(t,n){console.log("errorajax"),p(),e.ajax.error&&e.ajax.error(t,n),l(!1)};return i.on("keyup",t.debounce(1e3,function(n){var i;n.stopPropagation(),27==n.keyCode||38==n.keyCode?r(!1):40==n.keyCode?r(!0):e.ajax&&(i=e.ajax,t.ajax({type:i.type(),url:i.url(),data:i.data(),beforeSend:d,complete:u,success:f,error:h}))})).on("focus",function(t){t.stopPropagation(),e.onFocus&&e.onFocus(t,this)}),t(window).resize(function(){r(!0)}).click(function(){r(!1)}),this}}(jQuery),function(t){t.fn.timepicker=function(e){var n=t(this),i=t('<div id="'+n.attr("name").replace(/[\[\]]/g,"")+'-timepicker" class="timepicker">'),a=t('<div class="hours">').appendTo(i),o=t('<button class="next">').append('<i class="fas fa-chevron-up">').appendTo(a),s=t('<button class="prev">').append('<i class="fas fa-chevron-down">').appendTo(a),r=t('<input type="text" class="w3-input hours" maxlength="2" />').insertBefore(s),l=t('<div class="minutes">').appendTo(i),c=t('<button class="next">').append('<i class="fas fa-chevron-up">').appendTo(l),p=t('<button class="prev">').append('<i class="fas fa-chevron-down">').appendTo(l),d=t('<input type="text" class="w3-input hours" maxlength="2" />').insertBefore(p),u=t('<div class="seconds">').appendTo(i),f=t('<button class="next">').append('<i class="fas fa-chevron-up">').appendTo(u),h=t('<button class="prev">').append('<i class="fas fa-chevron-down">').appendTo(u),m=t('<input type="text" class="w3-input hours" maxlength="2" />').insertBefore(h);i.find("button").attr("type","button"),o.click(function(t){g("h",1,t)}),s.click(function(t){g("h",-1,t)}),c.click(function(t){g("m",1,t)}),p.click(function(t){g("m",-1,t)}),f.click(function(t){g("s",1,t)}),h.click(function(t){g("s",-1,t)});var v=function(t){t.stopPropagation()},w=function(t,e){e.stopPropagation(),38==e.keyCode&&g(t,1,e),40==e.keyCode&&g(t,-1,e)};r.on("focus click ",v).on("keydown",function(t){w("h",t)}).on("keyup",t.debounce(500,function(e){e.stopPropagation(),b("h",t(this).val(),e)})),d.on("focus click ",v).on("keydown",function(t){w("m",t)}).on("keyup",t.debounce(500,function(e){b("m",t(this).val(),e)})),m.on("focus click ",v).on("keydown",function(t){w("s",t)}).on("keyup",t.debounce(500,function(e){b("s",t(this).val(),e)}));e=t.extend({parseFormat:"hh:mm:ss A",outputFormat:"HH:mm:ss"},e);var y=function(){return moment(t(n.attr("timepicker-source")).val(),e.parseFormat)},k=function(){return n.attr("timepicker-source")?y():moment(n.val(),e.parseFormat)},g=function(t,e,n){n.stopPropagation();var i=k();i=i.isValid()?i:moment("00:00:00","HH:mm:ss"),e>0?i.add(e,t):e<0&&i.subtract(-1*e,t),x(i)},b=function(t,e,n){n.stopPropagation();var i=k();i=i.isValid()?i:moment("00:00:00","HH:mm:ss"),"h"==t?i.hours(e):"m"==t?i.minute(e):"s"==t&&i.second(e),x(i)},x=function(i){r.val(i.isValid()?i.format("HH"):"00"),d.val(i.isValid()?i.format("mm"):"00"),m.val(i.isValid()?i.format("ss"):"00");var a;i=i.isValid()?i.format(e.outputFormat):"";n.attr("timepicker-source")&&(a=i,t(n.attr("timepicker-source")).val(a)),n.attr("timepicker-link")&&function(e){t(n.attr("timepicker-link")).val(e)}(i),n.val(i),t(n).trigger("change")};if(n.attr("timepicker-container")){var C=n.attr("timepicker-container");t(C).append(i).css("padding","8px"),e.class&&t(i).addClass(e.class),e.styles&&t(i).attr("style",e.styles),n.on("focus click",function(e){e.stopPropagation(),t(window).trigger("click"),n.attr("timepicker-modal")?t(n.attr("timepicker-modal")).show():t(C).addClass("w3-show").css("right","0")}),t(window).on("click focus",function(){n.attr("timepicker-modal")?t(n.attr("timepicker-modal")).hide():t(C).removeClass("w3-show")})}else i.insertAfter(n);return x(k()),this}}(jQuery);var App={UI:{}};App.UI.inputGroup=function(t){$(t).focusin(function(){$(t).parent().addClass("focus")}).focusout(function(){$(t).parent().removeClass("focus")}).blur(function(){$(t).parent().removeClass("focus")})},App.init=function(){$("input.w3-input.error").on("keyup",function(t){var e=String.fromCharCode(t.keyCode);/[a-zA-Z0-9-_ ]/.test(e)&&$(this).removeClass("error")}),$(".input-group.error>.w3-input").on("keyup",function(){$(this).parent().removeClass("error")}),$.each($(".input-group>.w3-input"),function(t,e){App.UI.inputGroup(e)})},$(document).ready(function(){App.init()});